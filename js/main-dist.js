!function(){"use strict";var e=[,function(e,t,n){n.r(t),n.d(t,{phone_not_required:function(){return o},hide_donate_btn:function(){return r},line_QR_code:function(){return a}}),(()=>{if(window.location.href.indexOf("utm_source=dd")>=0){let e=document.createElement("style");e.innerHTML=".is-hidden-at-dd-page-only {\n\t\t\t\tdisplay: none !important;\n\t\t\t}\n\t\t\t.is-shown-at-dd-page-only {\n\t\t\t\tdisplay: block !important;\n\t\t\t}",document.head.appendChild(e),document.querySelector("#MobilePhone")&&document.querySelector("#MobilePhone").removeAttribute("required")}else{let e=document.createElement("style");e.innerHTML="\n\t\t\t.is-shown-at-dd-page-only {\n\t\t\t\tdisplay: none !important;\n\t\t\t}",document.head.appendChild(e)}})();const o=e=>{if(window.location.href.indexOf("utm_source=dd")>=0){let t=e;t.indexOf("#")<0&&(t="#"+t),document.querySelector(t).removeAttribute("required")}},r=e=>{if(window.location.href.indexOf("utm_source=dd")>=0){let t=e;t.indexOf("#")<0&&(t="#"+t),document.querySelector(t).style.display="none"}},a=e=>{if(window.location.href.indexOf("utm_source=dd")>=0){let t=e;t.indexOf("#")<0&&(t="#"+t),document.querySelector(t).innerHTML='<div class="line-div is-show-at-dd-page-only" style="text-align: center; margin: 1.5rem 0;">\t\t\t\t\n\t\t\t\t<div class="line-tp">\n\t\t\t\t\t<a href=\'http://act.gp/GPLINE_tp\' target=\'_blank\' style=\'color: #00c300; text-decoration: none;\'>加入我們的 LINE 好友<br>\n\t\t\t\t\t<img src="https://change.greenpeace.org.tw/2021/petition/example/images/act.gp_GPLINE_tp.png" style="width:100%; max-width:256px;" /></a>\n\t\t\t\t</div>\n\t\t\t\t<div class="line-tc">\n\t\t\t\t\t<a href=\'http://act.gp/GPLINE_tc\' target=\'_blank\' style=\'color: #00c300; text-decoration: none;\'>加入我們的 LINE 好友<br>\n\t\t\t\t\t<img src="https://change.greenpeace.org.tw/2021/petition/example/images/act.gp_GPLINE_tc.png" style="width:100%; max-width:256px;" /></a>\n\t\t\t\t</div>\n\t\t\t\t<div class="line-ks">\n\t\t\t\t\t<a href=\'http://act.gp/GPLINE_ks\' target=\'_blank\' style=\'color: #00c300; text-decoration: none;\'>加入我們的 LINE 好友<br>\n\t\t\t\t\t<img src="https://change.greenpeace.org.tw/2021/petition/example/images/act.gp_GPLINE_ks.png" style="width:100%; max-width:256px;" /></a>\n\t\t\t\t</div>\n\t\t\t</div>',window.location.href.indexOf("utm_content=tp")>=0?(document.querySelector(".line-tp").style.display="block",document.querySelector(".line-tc").style.display="none",document.querySelector(".line-ks").style.display="none"):window.location.href.indexOf("utm_content=tc")?(document.querySelector(".line-tp").style.display="none",document.querySelector(".line-tc").style.display="block",document.querySelector(".line-ks").style.display="none"):(document.querySelector(".line-tp").style.display="none",document.querySelector(".line-tc").style.display="none",document.querySelector(".line-ks").style.display="block")}}}],t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};!function(){n.r(o);n(1);$(document).ready((function(){AOS.init({duration:600,easing:"ease-out",anchorPlacement:"top-center"});new Swiper("#manualSlider",{effect:"fade",speed:500,autoplay:{delay:5e3},pagination:{el:"#manualSlider .swiper-pagination",clickable:!0},loop:!0});function e(){$(".box").fadeOut(),$("body").removeClass("noscroll")}function t(e){$(e).fadeIn(),$("#formBox .formbox__inner, #thanksBox .formbox__inner").scrollTop(0),$("body").addClass("noscroll")}$(".submit-btn").on("click",(function(n){n.preventDefault(),function(){if(!$("#privacy").prop("checked"))return void alert("永續海鮮選購手冊PDF將寄發至您的電子郵件，如需索取手冊，請務必勾選此選項。");if(!function(){$(".error-message").remove();let e=!0;LastName.value?/^[\u4e00-\u9fa5_a-zA-Z_ ]{1,40}$/i.test(LastName.value)&&/^[\u4e00-\u9fa5_a-zA-Z_ ]{1,40}$/i.test(LastName.value)||(e=!1,$('<span class="error-message">請不要輸入數字或符號</span>').insertAfter("#LastName")):(e=!1,$('<span class="error-message">必填欄位</span>').insertAfter("#LastName"));FirstName.value?/^[\u4e00-\u9fa5_a-zA-Z_ ]{1,40}$/i.test(FirstName.value)&&/^[\u4e00-\u9fa5_a-zA-Z_ ]{1,40}$/i.test(LastName.value)||(e=!1,$('<span class="error-message">請不要輸入數字或符號</span>').insertAfter("#FirstName")):(e=!1,$('<span class="error-message">必填欄位</span>').insertAfter("#FirstName"));Email.value?/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/i.test(Email.value)||(e=!1,$('<span class="error-message email-error-message">Email 格式錯誤</span>').insertAfter("#Email")):(e=!1,$('<span class="error-message email-error-message">必填欄位</span>').insertAfter("#Email"));!MobilePhone.value&&window.location.href.indexOf("utm_source=dd")<0?(e=!1,$('<span class="error-message">必填欄位</span>').insertAfter("#MobilePhone")):!MobilePhone.value||/^(0|886|\+886)?(9\d{8})$/.test(MobilePhone.value)||/^(0|886|\+886){1}[3-8]-?\d{6,8}$/.test(MobilePhone.value)||/^(0|886|\+886){1}[2]-?\d{8}$/.test(MobilePhone.value)||(e=!1,$('<span class="error-message">電話格式不正確，格式應為 0912345678 和 02-23456789</span>').insertAfter("#MobilePhone"));$("#MobilePhone").next(".error-message")?$("#MobilePhone").attr("placeholder",""):$("#MobilePhone").attr("placeholder",r);""==Birthdate.value?(e=!1,$('<span class="error-message">必填欄位</span>').insertAfter("#Birthdate"),$(".form__select-val").text("")):$("#Birthdate").trigger("change");e||$(".error-message").siblings("input").val("");return e}())return;if(window.location.href.indexOf("demo")>=0||window.location.href.indexOf("localhost")>=0)return e(),void t("#thanksBox");!function(){document.querySelector("#page-loading")||document.querySelector("body").insertAdjacentHTML("beforeend",'\n      <div id="page-loading" class="hide">\n      <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>\n      </div>');setTimeout((()=>{document.querySelector("#page-loading").classList.remove("hide")}),0)}();let n=new FormData;document.querySelectorAll("#sign-form input,select").forEach((function(e,t){let o=null;o="checkbox"===e.type?e.checked:e.value,n.append(e.name,o)})),n.append("city",$("#selectArea :selected").text()),n.append("CampaignData1__c",$("#selectArea :selected").text()),fetch(document.querySelector("#sign-form").action,{method:"POST",body:n}).then((e=>e.json())).then((n=>{n&&(e(),t("#thanksBox")),a()})).catch((e=>{console.log(e),a()}))}()})),$("[data-preview]").on("click",(function(e){var t;e.preventDefault(),t=$(this).attr("data-preview"),$(".previewbox__frame").attr("class","previewbox__frame previewbox__frame--"+t),$(".previewbox__pic").attr("src","images/slider-"+t+".jpg"),$("#previewBox").fadeIn(),$(".previewbox__container").scrollTop(0),$(".previewbox__container").scrollLeft(0),$("body").addClass("noscroll")})),$("[data-box]").on("click",(function(e){e.preventDefault(),t("#"+$(this).attr("data-box"))})),$(".box__close, .box__cover").on("click",(function(t){t.preventDefault(),e()}));new PerfectScrollbar("#formBox .formbox__inner",{wheelPropagation:!1,suppressScrollX:!0,maxScrollbarLength:100}),new PerfectScrollbar("#thanksBox .formbox__inner",{wheelPropagation:!1,suppressScrollX:!0,maxScrollbarLength:100});$(".form__select").on("change",(function(){var e=$(this).find(":selected").text();$(".form__select-val").text(e)})).trigger("change"),function(){let e=["me.com","outlook.com","netvigator.com","cloud.com","live.hk","msn.com","gmail.com","hotmail.com","ymail.com","yahoo.com","yahoo.com.tw","yahoo.com.hk"],t=["com","net","org"],n=document.getElementById("Email");n.onblur=function(){document.getElementById("email-suggestion")||Mailcheck.run({email:n.value,domains:e,topLevelDomains:t,suggested:function(e){n.insertAdjacentHTML("afterend",`<div class="suggestion" id="email-suggestion">您想輸入的是 <strong id="emailSuggestion">${e.full}</strong> 嗎？</div>`),document.querySelectorAll(".email-error-message").forEach((e=>e.remove())),setTimeout((function(){$("#email-suggestion").fadeOut((function(){$("#email-suggestion").remove()}))}),3e3),document.getElementById("email-suggestion").onclick=function(){n.value=document.getElementById("emailSuggestion").innerText,document.getElementById("email-suggestion").remove()}},empty:function(){this.emailSuggestion=null}})}}(),$("#formBox input, #formBox select").on("focus",(function(e){$(this).next(".error-message").remove()}));let n=(new Date).getFullYear();for(var o=0;o<100;o++){document.getElementById("Birthdate").add(new Option(n-o,n-o+"-01-01"))}var r=$("#MobilePhone").attr("placeholder");const a=()=>{document.querySelector("#page-loading").classList.add("hide"),setTimeout((()=>{document.querySelector("#page-loading").remove()}),1100)};var i=window.location.href.split("?")[0];$("#shareFB").attr("href","https://www.facebook.com/sharer/sharer.php?u="+i),phone_not_required()}))}()}();